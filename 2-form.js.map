{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\nconst fillFeedbackForm = feedbackForm => {\n  try {\n    const feedbackFormLS = JSON.parse(\n      localStorage.getItem('feedback-form-state')\n    );\n\n    if (feedbackFormLS === null) {\n      return;\n    }\n\n    Object.assign(formData, feedbackFormLS);\n\n    const feedbackFormLSKeys = Object.keys(feedbackFormLS);\n\n    feedbackFormLSKeys.forEach(key => {\n      refs.form.elements[key].value = feedbackFormLS[key];\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nfillFeedbackForm(formData);\n\nconst onFormInput = evn => {\n  const { email, message } = evn.currentTarget;\n  formData.email = email.value.trim();\n  formData.message = message.value.trim();\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n};\n\nconst onFormSubmit = evn => {\n  evn.preventDefault();\n  if (\n    evn.currentTarget.email.value === '' ||\n    evn.currentTarget.message.value === ''\n  ) {\n    alert('Fill please all fields');\n    return;\n  }\n  console.log(formData);\n  evn.target.reset();\n  localStorage.removeItem('feedback-form-state');\n  formData.email = '';\n  formData.message = '';\n};\n\nrefs.form.addEventListener('input', onFormInput);\nrefs.form.addEventListener('submit', onFormSubmit);"],"names":["refs","formData","fillFeedbackForm","feedbackForm","feedbackFormLS","key","err","onFormInput","evn","email","message","onFormSubmit"],"mappings":"wFAAA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAEA,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAmBC,GAAgB,CACvC,GAAI,CACF,MAAMC,EAAiB,KAAK,MAC1B,aAAa,QAAQ,qBAAqB,CAChD,EAEI,GAAIA,IAAmB,KACrB,OAGF,OAAO,OAAOH,EAAUG,CAAc,EAEX,OAAO,KAAKA,CAAc,EAElC,QAAQC,GAAO,CAChCL,EAAK,KAAK,SAASK,CAAG,EAAE,MAAQD,EAAeC,CAAG,CACxD,CAAK,CACF,OAAQC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EAEAJ,EAAyB,EAEzB,MAAMK,EAAcC,GAAO,CACzB,KAAM,CAAE,MAAAC,EAAO,QAAAC,GAAYF,EAAI,cAC/BP,EAAS,MAAQQ,EAAM,MAAM,KAAI,EACjCR,EAAS,QAAUS,EAAQ,MAAM,KAAI,EACrC,aAAa,QAAQ,sBAAuB,KAAK,UAAUT,CAAQ,CAAC,CACtE,EAEMU,EAAeH,GAAO,CAE1B,GADAA,EAAI,eAAc,EAEhBA,EAAI,cAAc,MAAM,QAAU,IAClCA,EAAI,cAAc,QAAQ,QAAU,GACpC,CACA,MAAM,wBAAwB,EAC9B,MACD,CACD,QAAQ,IAAIP,CAAQ,EACpBO,EAAI,OAAO,QACX,aAAa,WAAW,qBAAqB,EAC7CP,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB,EAEAD,EAAK,KAAK,iBAAiB,QAASO,CAAW,EAC/CP,EAAK,KAAK,iBAAiB,SAAUW,CAAY"}